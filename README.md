# MusicStreamer
Distributed Systems Assingment: implementation of a music streaming application (back-end)

Στα brokers1.txt και Publishers2.txt περιέχονται τα IP και ports των brokers και publishers αντίστοιχα και χρησιμεύουν στην επικοινωνία μεταξύ τους.
Οπότε πρέπει να αλλάξουν οι IP στα αρχεία ανάλογα με την IP του υπολογιστή που εκτελούνται. Το brokers1.txt φορτώνεται και στον consumer για την πρώτη σύνδεση με τυχαίο broker.

Τρέχουμε αρχικά τους 3 brokers οι οποίοι παίρνουν τα ports από το brokers2.txt. Το brokers2.txt περιέχει 3 ports, αν θέλουμε να τρέξουμε παραπάνω από 3 brokers πρέπει να συμπληρώσουμε 
στο txt τα επιπλέον ports. Εφόσον τους τρέχουμε στον ίδιο υπολογιστή τα ports πρέπει να είναι διαφορετικά. Οπότε κάθε φορα που τρέχουμε έναν broker αυτός διαβαζει από το brokers2.txt
την πρώτη γραμμή του και μετά την μετακινεί στην τελευταια γραμμη του εγγράφου. Αυτό έχει ως αποτέλεσμα όταν τρέξουμε τον επόμενο broker να διαβάσει διαφορετική πρώτη γραμμή και συνεπώς
διαφορετικό port. Στην περίπτωση που θελουμε να τρέξουμε σε διαφορετικούς υπολογιστές τους brokers απλά γράφουμε στο brokers2.txt το ένα port που θα χρησιμοποιήσουμε.

Στη συνέχεια τρέχουμε τους 2 publishers ο οποίοι παίρνουν τα ports από το Publishers1.txt με τον ίδιο τρόπο όπως οι brokers. Παράλληλα όμως χρειάζεται και να φορτωθεί και το broker1.txt
καθώς οταν συνδεθούν οι publishers ως clients στους broker servers πρέπει να γνωρίζουν τα ip και τα ports τους.
Ο publisher ζητάει το path για τον φάκελο του dataset οπότε πληκτρολογούμε κάτι της μορφής Dataset/dataset1 (όπου το Dataset βρίσκεται μέσα στον φάκελο του προγράμματος μας), υποθέτοντας
ότι όλα τα τραγούδια βρίσκονται στον dataset1 και οχι σε υποφακέλους μέσα σε αυτόν. Ο κάθε publisher ζητάει το εύρος των αρχικών γραμμάτων των καλλιτεχνών για τους οποίους θα είναι 
υπεύθυνος, οπότε από a σε k στον πρώτο και απο l σε z στον δεύτερο.

Τέλος, τρέχουμε τον/τους consumer. Το brokers1.txt φορτώνεται και στον consumer για την πρώτη σύνδεση με τυχαίο broker. Μόλς συνδεθεί εμφανίζεται η λίστα με τους διαθέσιμους τραγουδιστές.
Οπότε μπορούμε είτε να πληκτρολογήσουμε το όνομα που επιθυμούμε είτε να πατήσουμε το νούμερο που αντιστοιχεί στον καθέναν για περισσότερη ευκολία. Στην συνέχεια εμφανίζονται όλα τα
τραγούδια του καλλιτέχνη που διαλέξαμε. Επιλέγουμε με τον ίδιο τρόπο όπως αναφέραμε παραπάνω το τραγούδι που επιθυμούμε και στην συνέχεια επιλέγουμε ανάμεσα σε download ή stream. To
download αποθηκεύει ολόκληρο το τραγούδι στον φάκελο created songs ενώ το stream το αποθηκεύει σε chunks στον φάκελο αυτον. Αφού ολοκληρωθεί και αυτή η διαδικασία επαναλαμβάνεται όλο από
την αρχή. Παρόλα αυτά ο χρηστης έχει την δυνατοτητα να πληκτρολογήσει exit και το πρόγραμμα να τερματίσει.


